<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Trade Nova.Club | Secure Access</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
*{box-sizing:border-box;font-family:Inter,Arial,sans-serif}
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
}
.container{
  width:100%;
  max-width:420px;
  padding:20px;
}
.brand{
  text-align:center;
  margin-bottom:20px;
}
.brand h1{
  margin:0;
  font-size:32px;
}
.brand span{color:#00e0ff}
.brand p{
  font-size:14px;
  opacity:.8;
}
.card{
  background:rgba(255,255,255,.08);
  padding:20px;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  margin-bottom:15px;
}
.card h2{
  text-align:center;
  margin-bottom:12px;
}
input{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  margin:8px 0;
  font-size:15px;
}
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  background:#00e0ff;
  color:#000;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  margin-top:10px;
}
button:hover{background:#00c4dd}
.hidden{display:none}
.info{
  font-size:14px;
  opacity:.9;
}
ul{
  padding-left:18px;
  font-size:14px;
}
ul li{margin-bottom:6px}
.courseBox{
  margin-top:15px;
  padding:15px;
  background:rgba(0,0,0,.35);
  border-radius:12px;
  text-align:center;
}
.courseBox a{
  display:inline-block;
  margin-top:10px;
  padding:10px 18px;
  background:#00e0ff;
  color:#000;
  text-decoration:none;
  border-radius:6px;
  font-weight:600;
}
.footer{
  text-align:center;
  font-size:12px;
  opacity:.6;
  margin-top:10px;
}
</style>
</head>

<body>

<div class="container">

  <div class="brand">
    <h1>Trade Nova<span>.Club</span></h1>
    <p id="subText">Professional Trading Education Platform</p>
  </div>

  <!-- LOGIN -->
  <div id="loginBox" class="card">
    <h2>Secure Login</h2>
    <input id="phone" placeholder="Enter Mobile Number">
    <div id="recaptcha"></div>
    <button onclick="sendOTP()">Send OTP</button>
  </div>

  <!-- OTP -->
  <div id="otpBox" class="card hidden">
    <h2>Verify OTP</h2>
    <input id="otp" placeholder="Enter OTP">
    <button onclick="verifyOTP()">Verify & Continue</button>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" class="card hidden">
    <h2 id="headline">Trade Nova Mastery Program</h2>

    <p class="info" id="desc">
      Yeh platform un logon ke liye hai jo trading ko professional skill banana chahte hain.
    </p>

    <ul id="points">
      <li>âœ” Color Trading â€“ Practical Learning</li>
      <li>âœ” 2â€“5 Level Strategy Logic</li>
      <li>âœ” Entry, Exit & Discipline</li>
      <li>âœ” Professional Mindset Development</li>
    </ul>

    <div class="courseBox">
      <p id="buttonInfo">
        Aage badhne ke liye Mastery Course access karein:
      </p>
      <a id="courseLink" href="https://tradenova.club/" target="_blank">
        Proceed to Mastery Course â†’
      </a>
    </div>
  </div>

  <div class="footer">Â© Trade Nova.Club</div>

</div>

<script>
// ðŸ”¥ Firebase Config
firebase.initializeApp({
  apiKey: "AIzaSyDdlhcnyqPJACCF0Aen8NLga8bkBzATNFM",
  authDomain: "tradenovaaccess.firebaseapp.com",
  projectId: "tradenovaaccess",
  storageBucket: "tradenovaaccess.firebasestorage.app",
  messagingSenderId: "23644416261",
  appId: "1:23644416261:web:eeb691ed6e3f3fddc0ef6c"
});

const auth = firebase.auth();
const db = firebase.firestore();
let confirmationResult;

// Recaptcha
window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(
  'recaptcha',
  { size: 'invisible' }
);

// Send OTP
function sendOTP(){
  const phone = document.getElementById("phone").value;
  if(phone.length < 10){ alert("Enter valid number"); return; }

  auth.signInWithPhoneNumber("+91"+phone, window.recaptchaVerifier)
    .then(result=>{
      confirmationResult = result;
      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("otpBox").classList.remove("hidden");
    })
    .catch(err=>alert(err.message));
}

// Verify OTP
function verifyOTP(){
  const otp = document.getElementById("otp").value;
  confirmationResult.confirm(otp)
    .then(res=>{
      localStorage.setItem("loggedIn","true");
      document.getElementById("otpBox").classList.add("hidden");
      document.getElementById("dashboard").classList.remove("hidden");
      saveUser(res.user.phoneNumber);
      loadContent();
    })
    .catch(()=>alert("Invalid OTP"));
}

// Save user
function saveUser(phone){
  db.collection("users").doc(phone).set({
    phone,
    created: firebase.firestore.FieldValue.serverTimestamp()
  },{merge:true});
}

// Load live content (Admin Control Ready)
function loadContent(){
  db.collection("siteContent").doc("main").get().then(doc=>{
    if(!doc.exists) return;
    const d = doc.data();
    if(d.headline) document.getElementById("headline").innerText=d.headline;
    if(d.subText) document.getElementById("subText").innerText=d.subText;
    if(d.desc) document.getElementById("desc").innerText=d.desc;
    if(d.courseLink) document.getElementById("courseLink").href=d.courseLink;
  });
}

// Auto login
if(localStorage.getItem("loggedIn")==="true"){
  document.getElementById("loginBox").classList.add("hidden");
  document.getElementById("dashboard").classList.remove("hidden");
  loadContent();
}
</script>

</body>
</html>
