<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>Satsang Live Overlay</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBTbD8UfPZNrIUu6zIamoPeAPp_jnuxTpE",
            authDomain: "doner-speaker-list.firebaseapp.com",
            projectId: "doner-speaker-list",
            storageBucket: "doner-speaker-list.firebasestorage.app",
            messagingSenderId: "198403143772",
            appId: "1:198403143772:web:51cbcf39e3c608d9afce99",
            databaseURL: "https://doner-speaker-list-default-rtdb.firebaseio.com" // आपका लिंक यहाँ है
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const dataRef = ref(db, 'liveData');

        // डेटा सुनना (Display)
        onValue(dataRef, (snapshot) => {
            const data = snapshot.val();
            if (data) {
                document.getElementById('viewers').innerText = data.viewers || "0";
                document.getElementById('speaker').innerText = data.speaker || "वक्ता का नाम";
                document.getElementById('handle').innerText = data.handle || "@YourChannel";
                document.getElementById('scroll-donors').innerHTML = (data.donors || "").replace(/\n/g, '<br> • ');
            }
        });

        // डेटा भेजना (Admin)
        window.saveToFirebase = function() {
            set(dataRef, {
                viewers: document.getElementById('in-v').value,
                speaker: document.getElementById('in-s').value,
                handle: document.getElementById('in-h').value,
                donors: document.getElementById('in-d').value
            }).then(() => alert("Data Live Ho Gaya!"));
        };
    </script>

    <style>
        :root { --gold: #D4AF37; --red: #8B0000; }
        body { margin: 0; background: transparent; color: white; font-family: 'Arial', sans-serif; }
        
        /* 16:9 Display Area */
        .screen { width: 1920px; height: 1080px; position: relative; overflow: hidden; }

        .social { position: absolute; top: 30px; left: 30px; background: var(--red); border: 2px solid var(--gold); padding: 10px 25px; border-radius: 50px; font-size: 24px; box-shadow: 0 0 10px gold; }
        
        .v-box { position: absolute; top: 120px; left: 30px; background: rgba(0,0,0,0.7); border: 2px solid var(--gold); padding: 15px; border-radius: 10px; text-align: center; min-width: 150px; }
        .v-num { font-size: 40px; color: var(--gold); font-weight: bold; }

        .donor-box { position: absolute; right: 40px; top: 40px; width: 320px; height: 450px; background: rgba(0,0,0,0.85); border: 2px solid var(--gold); border-radius: 15px; overflow: hidden; }
        .d-head { background: var(--gold); color: black; padding: 10px; text-align: center; font-weight: bold; font-size: 22px; }
        
        /* Auto Scrolling List */
        .marquee { height: 380px; overflow: hidden; position: relative; padding: 15px; font-size: 20px; line-height: 2; }
        #scroll-donors { position: absolute; width: 90%; animation: scrollUp 15s linear infinite; }
        @keyframes scrollUp { 0% { top: 100%; } 100% { top: -100%; } }

        .speaker-tag { position: absolute; bottom: 40px; right: 40px; background: linear-gradient(to right, var(--red), #440000); padding: 15px 50px; border: 3px solid var(--gold); border-radius: 100px; font-size: 35px; font-weight: bold; }

        /* Admin Panel (OBS Crop Area) */
        .admin { width: 1920px; height: 500px; background: #1a1a1a; border-top: 10px solid yellow; padding: 50px; box-sizing: border-box; display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
        input, textarea { background: #333; border: 1px solid var(--gold); color: white; padding: 10px; border-radius: 5px; }
        button { background: var(--gold); font-weight: bold; padding: 15px; cursor: pointer; border: none; }
    </style>
</head>
<body>

    <div class="screen">
        <div class="social">LIVE: <span id="handle">@...</span></div>
        <div class="v-box"><div style="font-size:12px">VIEWERS</div><div class="v-num" id="viewers">0</div></div>
        
        <div class="donor-box">
            <div class="d-head">सहयोग राशि</div>
            <div class="marquee"><div id="scroll-donors">प्रतीक्षा करें...</div></div>
        </div>

        <div class="speaker-tag">वक्ता: <span id="speaker" style="color:var(--gold)">...</span></div>
    </div>

    <div class="admin">
        <div><h3>Social</h3><input id="in-h" type="text" placeholder="@Channel"></div>
        <div><h3>Viewers</h3><input id="in-v" type="number" placeholder="1000"></div>
        <div><h3>Speaker</h3><input id="in-s" type="text" placeholder="आचार्य जी"></div>
        <div><h3>Donors</h3><textarea id="in-d" placeholder="नाम - राशि (हर लाइन पर एक)"></textarea></div>
        <div style="grid-column: span 4"><button onclick="saveToFirebase()">UPDATE LIVE STREAM NOW</button></div>
    </div>

</body>
</html>
