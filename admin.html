<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>School Admin Panel | Secure Access</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; background: #f4f7f6; padding: 40px; }
        .admin-card { background: white; max-width: 800px; margin: auto; padding: 30px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h2 { color: #0c2461; border-bottom: 2px solid #f6b93b; padding-bottom: 10px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        button { background: #0c2461; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #f6b93b; color: #0c2461; }
        .notice-list { margin-top: 30px; background: #eee; padding: 15px; }
    </style>
</head>
<body>

<div class="admin-card">
    <h2>üè´ ‡§∏‡•ç‡§ï‡•Ç‡§≤ ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤</h2>
    <p>‡§Ø‡§π‡§æ‡§Å ‡§∏‡•á ‡§Ü‡§™ ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡•Ä ‡§π‡§∞ ‡§ö‡•Ä‡§ú‡§º ‡§ï‡•ã ‡§≤‡§æ‡§á‡§µ ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>

    <hr><br>

    <div class="form-group">
        <label>‡§∏‡•ç‡§ï‡•Ç‡§≤ ‡§ï‡§æ ‡§®‡§æ‡§Æ (Main Name)</label>
        <input type="text" id="schoolName" placeholder="‡§ú‡•à‡§∏‡•á: ‡§∞‡§æ‡§ú‡§ï‡•Ä‡§Ø ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø...">
    </div>

    <div class="form-group">
        <label>‡§ü‡•à‡§ó‡§≤‡§æ‡§á‡§® (Tagline)</label>
        <input type="text" id="tagline" placeholder="‡§ú‡•à‡§∏‡•á: ‡§Ö‡§®‡•Å‡§∂‡§æ‡§∏‡§® ‡§π‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§π‡•à...">
    </div>

    <h3>üë§ ‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§æ‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</h3>
    <div class="form-group">
        <label>‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§æ‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
        <input type="text" id="pName">
    </div>
    <div class="form-group">
        <label>‡§∏‡§Ç‡§¶‡•á‡§∂ (Principal Message)</label>
        <textarea id="pMsg" rows="4"></textarea>
    </div>

    <button onclick="updateConfig()">‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç</button>

    <br><br>
    <hr>
    <h3>üì¢ ‡§®‡§Ø‡§æ ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ú‡§æ‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç</h3>
    <div class="form-group">
        <input type="text" id="nTitle" placeholder="‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ï‡§æ ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï">
        <textarea id="nDesc" placeholder="‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£" style="margin-top:10px"></textarea>
        <button onclick="addNotice()" style="margin-top:10px; background: #27ae60;">‡§®‡•ã‡§ü‡§ø‡§∏ ‡§™‡§¨‡•ç‡§≤‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<script>
    const firebaseConfig = { databaseURL: "https://school-web-ae1ba-default-rtdb.firebaseio.com/" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Configuration Update
    function updateConfig() {
        const data = {
            schoolName: document.getElementById('schoolName').value,
            tagline: document.getElementById('tagline').value,
            principalName: document.getElementById('pName').value,
            principalMsg: document.getElementById('pMsg').value
        };
        db.ref('school_config').set(data).then(() => alert("‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§ó‡§à!"));
    }

    // Add New Notice
    function addNotice() {
        const title = document.getElementById('nTitle').value;
        const desc = document.getElementById('nDesc').value;
        const monthNames = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
        const d = new Date();

        db.ref('notices').push({
            title: title,
            description: desc,
            day: d.getDate(),
            month: monthNames[d.getMonth()],
            year: d.getFullYear()
        }).then(() => {
            alert("‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ú‡§æ‡§∞‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
            document.getElementById('nTitle').value = "";
            document.getElementById('nDesc').value = "";
        });
    }
</script>

</body>
</html>
